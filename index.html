<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>HH â€“ Audit PDF Compiler (No Upload)</title>
  <meta name="description" content="Merge/compile PDFs by filename rules - ready for the audit team. 100% in your browser. No uploads. No storage." />
  <link rel="stylesheet" href="assets/css/styles.css" />
</head>
<body>
  <main>
    <!-- Brand/header now inside the main container -->
    <div class="panel">
      <div class="header-wrap">
        <img class="logo" src="assets/images/hh-logo.png" alt="House & Home Mortgage Co. logo" onerror="this.style.display='none'">
        <div>
          <h1>HH â€“ Browser PDF Compiler <span class="small">(No Upload)</span></h1>
          <div class="sub">Light, fast, and private: compile lender/client PDFs in your browser. Nothing is uploaded.</div>
          <div class="helper">3 simple steps: 1) Choose folder 2) Review 3) Run All. Optional: enable write access to auto-organize.</div>
        </div>
      </div>

      <!-- Step 1 lives in the same container as the header now -->
      <div class="step"><span class="num">1</span><div class="title">Choose your client folder</div></div>
      <div class="row">
        <label class="btn" for="pick">ğŸ“ Select Folder of PDFs</label>
        <input id="pick" type="file" webkitdirectory directory multiple accept="application/pdf" />
        <button id="grantFs" class="btn">ğŸ—‚ï¸ Grant Local Folder Access</button>
        <span id="fsBadge" class="badge muted">Folder Write: OFF</span>
        <span id="selInfo" class="muted right"></span>
      </div>
      <div class="helper">Tip: On Chrome/Edge, click <b>Grant Local Folder Access</b> to auto-save, create <em>Funding Docs 2</em>, and move used files. Otherwise youâ€™ll get downloads.</div>
    </div>

    <!-- Step 2 & 3 panel (unchanged structurally) -->
    <div class="panel grid">
      <div>
        <div class="step"><span class="num">2</span><div class="title">Review what the app found</div></div>
        <p class="small muted" style="margin:0 0 8px;">Green dots = found Â· Red X = missing. Rename files if needed and re-scan.</p>
        <div id="slots"></div>
        <div class="row" style="margin-top:8px;">
          <button id="scanBtn" class="btn">ğŸ” Re-scan</button>
          <span class="small">You can also drag a folder onto this page.</span>
        </div>
      </div>
      <div>
        <div class="step"><span class="num">3</span><div class="title">Build & Save</div></div>
        <div class="row" style="margin-bottom:8px;">
          <button id="runAll" class="btn primary" disabled>ğŸš€ Run All (Closing â†’ Funding 1 â†’ Client Pkg â†’ ZIP)</button>
          <button id="buildClosing" class="btn" disabled>âš™ï¸ Closing Docs (PDF)</button>
          <button id="buildFunding1" class="btn" disabled>ğŸ“„ Funding Docs 1 (PDF)</button>
        </div>
        <div class="row">
          <button id="buildClientPkg" class="btn" disabled>ğŸ‘ª Client Closing Package (PDF)</button>
          <button id="zipFD2" class="btn" disabled>ğŸ—œï¸ â€œFunding Docs 2â€.zip</button>
        </div>
        <p class="small muted">If multiple downloads donâ€™t appear, allow them for this site. In write mode, files save straight into the folder.</p>
      </div>
    </div>

    <details class="panel"><summary>Log</summary>
      <div id="log" class="log mono"></div>
    </details>
  </main>

  <!-- Vendor (local copies in ./vendor) -->
  <script src="assets/vendor/pdf-lib.min.js"></script>
  <script src="assets/vendor/jszip.min.js"></script>

  <!-- App -->
  <script src="assets/js/app.js"></script>
</body>
</html>
